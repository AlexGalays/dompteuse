!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(12),o=[n(15),n(16),n(14),n(17)],i=Array.apply(null,{length:100}).map(function(e,t){return t}),a=function(){function e(e){return r.Component({name:"list",initState:t,connect:n,props:e,render:o})}function t(e){return{items:e.initialItems}}function n(e){var t=e.on;t(i,function(e,t){return{items:e.items.filter(function(e){return e!==t})}})}function o(e){var t=e.state,n=t.items.map(function(e){return r.h("li",{key:e},[r.h("span",String(e)),r.h("input",{props:{value:"bla"}}),r.h("button",{events:{onClick:i["with"](e)}},"âœ•")])});return r.h("ul",n)}var i=r.Message("deleteRow");return e}(),s=r.h("div",[r.h("h1","hello"),r.h("p","My name is benchmark"),a({initialItems:i})]),u=performance.now();console.log("loading time",u),r.startApp({app:s,snabbdomModules:o,elm:document.querySelector("main")}),console.log("render time",performance.now()-u)},function(e,t){"use strict";function n(e,t){return e===!0||e===t}t.__esModule=!0,t.shouldLog=n,t["default"]={render:!1,message:!1}},function(e,t,n){function r(e,t,n){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==t)for(var o=0;o<t.length;++o)r(t[o].data,t[o].children,t[o].sel)}var o=n(3),i=n(8);e.exports=function(e,t,n){var a,s,u,d={};if(void 0!==n?(d=t,i.array(n)?a=n:i.primitive(n)&&(s=n)):void 0!==t&&(i.array(t)?a=t:i.primitive(t)?s=t:d=t),i.array(a))for(u=0;u<a.length;++u)i.primitive(a[u])&&(a[u]=o(void 0,void 0,void 0,a[u]));return"s"===e[0]&&"v"===e[1]&&"g"===e[2]&&r(d,a,e),o(e,d,a,s,void 0)}},function(e,t){e.exports=function(e,t,n,r,o){var i=void 0===t?void 0:t.key;return{sel:e,data:t,children:n,text:r,elm:o,key:i}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){}function i(e,t){for(;e;){if(e.__comp__)return e.__comp__.messages._receive(t);if(e.__subs__)return e.__subs__.filter(function(e){return e.messageType._id===t._id}).forEach(function(e){return e.observableAdd(t.payload)});e=e.parentElement}}t.__esModule=!0,t["default"]=o,t._sendToElement=i;var a=n(7),s=r(a);o.prototype.listen=function(e){var t=this;return this.subs=this.subs||[],(0,s["default"])(function(n){var r={messageType:e,observableAdd:n};return t.subs.push(r),function(){t.subs.splice(t.subs.indexOf(r),1)}}).named(e._name)},o.prototype.listenAt=function(e,t){return(0,s["default"])(function(n){var r=document.querySelector(e);if(r){r.__subs__=r.__subs__||[];var o=r.__subs__,i={messageType:t,observableAdd:n};return o.push(i),function(){o.splice(o.indexOf(i),1),0===o.length&&(r.__subs__=void 0)}}}).named(t._name)},o.prototype.send=function(e){this._receive(e)},o.prototype.sendToParent=function(e){if(!this.el)throw new Error("Messages.send cannot be called synchronously in connect()");i(this.el.parentElement,e)},o.prototype._activate=function(e){this.el=e},o.prototype._receive=function(e){var t=this.subs;if(t)for(var n=0;n<t.length;n++){var r=t[n];r.messageType._id===e._id&&r.observableAdd(e.payload)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){d();var n=document.createElement("div"),r=(0,p["default"])("div",{key:"_init"},[],void 0,n),o=b.patch(r,e);g.forEach(function(e){return e.lifecycle.inserted(e)}),t.appendChild(o.elm),l()}function i(e){return y?void console.warn("A component tried to re-render while a rendering was already ongoing",e.elm):void(h.indexOf(e)===-1&&(h.push(e),_||(_=requestAnimationFrame(u))))}function a(e){s(e,!0)}function s(e,t){var n=e.props,r=e.state,o=e.messages,i=e.elm,a=e.render,s=e.vnode,u=e.destroyed;if(!(u||t&&h.indexOf(e)!==-1)){var d=void 0===s,l=b.patch,c=void 0;v["default"].render&&(c=performance.now());var f=a({props:n,state:r,msg:o}),y=s;if(!y){var _=document.createElement("div");i.appendChild(_),y=(0,p["default"])("div",{key:"_init"},[],void 0,_)}if(l(y,f),(0,m.shouldLog)(v["default"].render,e.key)){var x=Math.round(100*(performance.now()-c))/100;console.log("Render component %c"+e.key,"font-weight: bold",x+" ms","| props: ",n,"| state: ",r)}e.lifecycle.rendered(e,f),d&&g.push(e)}}function u(){y=!0,_=void 0,g=[],d(),h.sort(function(e,t){return e.depth-t.depth}),h.forEach(function(e){return s(e,!1)}),y=!1,h=[],g.forEach(function(e){return e.lifecycle.inserted(e)}),l()}function d(){v["default"].render&&console.log("%cRender - begin","color: orange")}function l(){v["default"].render&&console.log("%cRender - end\n\n\n","color: orange")}t.__esModule=!0,t.renderApp=o,t.renderComponentAsync=i,t.renderComponentSync=a;var c=n(2),f=(r(c),n(3)),p=r(f),m=n(1),v=r(m),h=[],g=[],y=!1,_=void 0,b={patch:void 0};t["default"]=b},function(e,t){"use strict";function n(){for(var e={},t=0;t<arguments.length;t++)e[arguments[t]]=1;return e}function r(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),o=0;o<n.length;o++)if(e[n[o]]!==t[n[o]])return!1;for(var o=0;o<r.length;o++)if(e[r[o]]!==t[r[o]])return!1;return!0}t.__esModule=!0,t.Set=n,t.shallowEqual=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(e,t){a=e,u=t,i(e,r,d||t)}function n(n){return 0===r.length&&(o=e(t)),r.push(n),a!==s&&n(a,d||u),function(){var e=r.indexOf(n);e>-1&&(r.splice(e,1),0===r.length&&o&&o())}}var r=[],o=void 0,a=s,u=void 0,d=void 0,l=function(){return a===s?void 0:a};return l.subscribe=n,l.named=function(e){return d=e,l},l}function i(e,t,n){for(var r=0;r<t.length;r++)t[r](e,n)}t.__esModule=!0,t["default"]=o;var a=n(1),s=(r(a),{})},function(e,t){e.exports={array:Array.isArray,primitive:function(e){return"string"==typeof e||"number"==typeof e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.name,n=e.props,r=void 0===n?k:n,o=e.initState,a=e.connect,u=e.render,l={key:t,hook:{create:i,postpatch:s,destroy:d},component:{props:r,initState:o,connect:a,render:u,key:t},attrs:{name:t}};return(0,p["default"])("component",l)}function i(e,t){var n=t.data.component,r=n.props,o=n.initState,i=n.connect,s=!1;n.lifecycle={inserted:a,rendered:u};var d=new g["default"];n.state=o(r),n.elm=t.elm,n.messages=d,n.subscriptions=[];var l=(0,_["default"])(function(e){e(n.props),n.lifecycle.propsChanged=e}).named("props");l.subscribe(function(e){return e});var c=function(e,t){var r=e._isMessage?d.listen(e):e,o=r.subscribe(function(e,r){var o=n.state;s&&(0,b.shouldLog)(x["default"].message,n.key)&&console.log("%c"+r+" %creceived by %c"+n.key,"color: #C963C1","color: black","font-weight: bold","with payload",e);var i=t(o,e);if(void 0!==i){n.state=i;var a=s&&!n.lifecycle.propsChanging&&!(0,v.shallowEqual)(o,i);a&&(0,m.renderComponentAsync)(n)}});n.subscriptions.push(o)},f={on:c,props:l,msg:d};i(f),s=!0,(0,m.renderComponentSync)(n),n.vnode.elm.__comp__=n,d._activate(n.vnode.elm)}function a(e){e.depth=c(e.vnode.elm)}function s(e,t){var n=e.data,r=t.data,o=n.component,i=o.props,a=r.component.props;o.props=a,r.component=o,(0,v.shallowEqual)(i,a)||(o.lifecycle.propsChanging=!0,o.lifecycle.propsChanged(a),o.lifecycle.propsChanging=!1,(0,m.renderComponentSync)(o))}function u(e,t){e.vnode=t;var n=t.data.hook&&t.data.hook.remove;n&&(e.placeholder.data.hook.remove=n)}function d(e){var t=e.data.component;t.vnode.elm.__comp__=null,l(t.vnode),t.destroyed=!0;for(var n=0;n<t.subscriptions.length;n++)t.subscriptions[n]()}function l(e){var t=e.data;t&&(t.hook&&t.hook.destroy&&t.hook.destroy(e),e.children&&e.children.forEach(l),t.vnode&&l(t.vnode))}function c(e){for(var t=0,n=e.parentElement;n;)t++,n=n.parentElement;return t}t.__esModule=!0,t["default"]=o;var f=n(2),p=r(f),m=n(5),v=n(6),h=n(4),g=r(h),y=n(7),_=r(y),b=n(1),x=r(b),k={}},function(e,t,n){"use strict";function r(e,t){var n=e.data.events,r=t.data.events;if(r){var i=function(){var e=r[name],i=n&&n[name];i!==e&&(t.elm[name.toLowerCase()]=function(t){var n=Array.isArray(e)?e:[e,t],r=n[0],i=n[1];(0,o._sendToElement)(t.target,r(i))})};for(name in r)i();if(n)for(name in n)null==r[name]&&(t.elm[name.toLowerCase()]=null)}}t.__esModule=!0,t.snabbdomModule=void 0;var o=(n(6),n(4));t.snabbdomModule={create:r,update:r}},function(e,t){"use strict";function n(e){function t(t){return{_id:n,_name:e,payload:t}}var n=r++;return t._id=n,t._name=e,t._isMessage=!0,t["with"]=function(e){return[t,e]},t.toString=function(){return n},t}t.__esModule=!0,t["default"]=n;var r=1},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var n=e.app,r=e.elm,o=e.snabbdomModules,i=o.concat(v.snabbdomModule);t.patch=y=l["default"].patch=a["default"].init(i),(0,d.renderApp)(n,r)}t.__esModule=!0,t.h=t.snabbdom=t.patch=t.log=t.startApp=t.Message=t.Component=void 0;var i=n(18),a=r(i),s=n(2),u=r(s),d=n(5),l=r(d),c=n(9),f=r(c),p=n(11),m=r(p),v=n(10),h=n(1),g=r(h),y=void 0;t.Component=f["default"],t.Message=m["default"],t.startApp=o,t.log=g["default"],t.patch=y,t.snabbdom=a["default"],t.h=u["default"]},function(e,t){function n(e){return document.createElement(e)}function r(e,t){return document.createElementNS(e,t)}function o(e){return document.createTextNode(e)}function i(e,t,n){e.insertBefore(t,n)}function a(e,t){e.removeChild(t)}function s(e,t){e.appendChild(t)}function u(e){return e.parentElement}function d(e){return e.nextSibling}function l(e){return e.tagName}function c(e,t){e.textContent=t}e.exports={createElement:n,createElementNS:r,createTextNode:o,appendChild:s,removeChild:a,insertBefore:i,parentNode:u,nextSibling:d,tagName:l,setTextContent:c}},function(e,t){function n(e,t){var n,r,i,a=t.elm,s=e.data.attrs,u=t.data.attrs;if(s||u){s=s||{},u=u||{};for(n in u)r=u[n],i=s[n],i!==r&&(!r&&o[n]?a.removeAttribute(n):a.setAttribute(n,r));for(n in s)n in u||a.removeAttribute(n)}}for(var r=["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","draggable","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","spellcheck","translate","truespeed","typemustmatch","visible"],o={},i=0,a=r.length;i<a;i++)o[r[i]]=!0;e.exports={create:n,update:n}},function(e,t){function n(e,t){var n,r,o=t.elm,i=e.data["class"],a=t.data["class"];if(i||a){i=i||{},a=a||{};for(r in i)a[r]||o.classList.remove(r);for(r in a)n=a[r],n!==i[r]&&o.classList[n?"add":"remove"](r)}}e.exports={create:n,update:n}},function(e,t){function n(e,t){var n,r,o,i=t.elm,a=e.data.props,s=t.data.props;if(a||s){a=a||{},s=s||{};for(n in a)s[n]||delete i[n];for(n in s)r=s[n],o=a[n],o===r||"value"===n&&i[n]===r||(i[n]=r)}}e.exports={create:n,update:n}},function(e,t){function n(e,t,n){s(function(){e[t]=n})}function r(e,t){var r,o,i=t.elm,a=e.data.style,s=t.data.style;if(a||s){a=a||{},s=s||{};var u="delayed"in a;for(o in a)s[o]||(i.style[o]="");for(o in s)if(r=s[o],"delayed"===o)for(o in s.delayed)r=s.delayed[o],u&&r===a.delayed[o]||n(i.style,o,r);else"remove"!==o&&r!==a[o]&&(i.style[o]=r)}}function o(e){var t,n,r=e.elm,o=e.data.style;if(o&&(t=o.destroy))for(n in t)r.style[n]=t[n]}function i(e,t){var n=e.data.style;if(!n||!n.remove)return void t();var r,o,i=e.elm,a=0,s=n.remove,u=0,d=[];for(r in s)d.push(r),i.style[r]=s[r];o=getComputedStyle(i);for(var l=o["transition-property"].split(", ");a<l.length;++a)d.indexOf(l[a])!==-1&&u++;i.addEventListener("transitionend",function(e){e.target===i&&--u,0===u&&t()})}var a="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,s=function(e){a(function(){a(e)})};e.exports={create:r,update:r,destroy:o,remove:i}},function(e,t,n){"use strict";function r(e){return void 0===e}function o(e){return void 0!==e}function i(e,t){return e.key===t.key&&e.sel===t.sel}function a(e,t,n){var r,i,a={};for(r=t;r<=n;++r)i=e[r].key,o(i)&&(a[i]=r);return a}function s(e,t){function n(e){return u(t.tagName(e).toLowerCase(),{},[],void 0,e)}function s(e,n){return function(){if(0===--n){var r=t.parentNode(e);t.removeChild(r,e)}}}function p(e,n){var r,i=e.data;o(i)&&o(r=i.hook)&&o(r=r.init)&&(r(e),i=e.data);var a,s=e.children,u=e.sel;if(o(u)){var l=u.indexOf("#"),f=u.indexOf(".",l),m=l>0?l:u.length,v=f>0?f:u.length,h=l!==-1||f!==-1?u.slice(0,Math.min(m,v)):u;if(a=e.elm=o(i)&&o(r=i.ns)?t.createElementNS(r,h):t.createElement(h),m<v&&(a.id=u.slice(m+1,v)),f>0&&(a.className=u.slice(v+1).replace(/\./g," ")),d.array(s))for(r=0;r<s.length;++r)t.appendChild(a,p(s[r],n));else d.primitive(e.text)&&t.appendChild(a,t.createTextNode(e.text));for(r=0;r<x.create.length;++r)x.create[r](c,e);r=e.data.hook,o(r)&&(r.create&&r.create(c,e),r.insert&&n.push(e))}else a=e.elm=t.createTextNode(e.text);return e.elm}function m(e,n,r,o,i,a){for(;o<=i;++o)t.insertBefore(e,p(r[o],a),n)}function v(e){var t,n,r=e.data;if(o(r)){for(o(t=r.hook)&&o(t=t.destroy)&&t(e),t=0;t<x.destroy.length;++t)x.destroy[t](e);if(o(t=e.children))for(n=0;n<e.children.length;++n)v(e.children[n])}}function h(e,n,r,i){for(;r<=i;++r){var a,u,d,l=n[r];if(o(l))if(o(l.sel)){for(v(l),u=x.remove.length+1,d=s(l.elm,u),a=0;a<x.remove.length;++a)x.remove[a](l,d);o(a=l.data)&&o(a=a.hook)&&o(a=a.remove)?a(l,d):d()}else t.removeChild(e,l.elm)}}function g(e,n,o,s){for(var u,d,l,c,f=0,v=0,g=n.length-1,_=n[0],b=n[g],x=o.length-1,k=o[0],C=o[x];f<=g&&v<=x;)r(_)?_=n[++f]:r(b)?b=n[--g]:i(_,k)?(y(_,k,s),_=n[++f],k=o[++v]):i(b,C)?(y(b,C,s),b=n[--g],C=o[--x]):i(_,C)?(y(_,C,s),t.insertBefore(e,_.elm,t.nextSibling(b.elm)),_=n[++f],C=o[--x]):i(b,k)?(y(b,k,s),t.insertBefore(e,b.elm,_.elm),b=n[--g],k=o[++v]):(r(u)&&(u=a(n,f,g)),d=u[k.key],r(d)?(t.insertBefore(e,p(k,s),_.elm),k=o[++v]):(l=n[d],y(l,k,s),n[d]=void 0,t.insertBefore(e,l.elm,_.elm),k=o[++v]));f>g?(c=r(o[x+1])?null:o[x+1].elm,m(e,c,o,v,x,s)):v>x&&h(e,n,f,g)}function y(e,n,a){var s,u;o(s=n.data)&&o(u=s.hook)&&o(s=u.prepatch)&&s(e,n);var d=n.elm=e.elm,l=e.children,c=n.children;if(e!==n){if(!i(e,n)){var f=t.parentNode(e.elm);return d=p(n,a),t.insertBefore(f,d,e.elm),void h(f,[e],0,0)}if(o(n.data)){for(s=0;s<x.update.length;++s)x.update[s](e,n);s=n.data.hook,o(s)&&o(s=s.update)&&s(e,n)}r(n.text)?o(l)&&o(c)?l!==c&&g(d,l,c,a):o(c)?(o(e.text)&&t.setTextContent(d,""),m(d,null,c,0,c.length-1,a)):o(l)?h(d,l,0,l.length-1):o(e.text)&&t.setTextContent(d,""):e.text!==n.text&&t.setTextContent(d,n.text),o(u)&&o(s=u.postpatch)&&s(e,n)}}var _,b,x={};for(r(t)&&(t=l),_=0;_<f.length;++_)for(x[f[_]]=[],b=0;b<e.length;++b)void 0!==e[b][f[_]]&&x[f[_]].push(e[b][f[_]]);return function(e,o){var a,s,u,d=[];for(a=0;a<x.pre.length;++a)x.pre[a]();for(r(e.sel)&&(e=n(e)),i(e,o)?y(e,o,d):(s=e.elm,u=t.parentNode(s),p(o,d),null!==u&&(t.insertBefore(u,o.elm,t.nextSibling(s)),h(u,[e],0,0))),a=0;a<d.length;++a)d[a].data.hook.insert(d[a]);for(a=0;a<x.post.length;++a)x.post[a]();return o}}var u=n(3),d=n(8),l=n(13),c=u("",{},[],void 0,void 0),f=["create","update","remove","destroy","pre","post"];e.exports={init:s}}]);