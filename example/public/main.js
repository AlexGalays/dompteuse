!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(45);var r=n(1),o=n(41),a=n(49),i=[n(37),n(38),n(36),n(39),a["default"]];r.startApp({app:o["default"],snabbdomModules:i,elm:document.getElementById("screens")})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var n=e.app,r=e.elm,o=e.snabbdomModules,a=o.concat(h.snabbdomModule);t.patch=y=f["default"].patch=i["default"].init(a),(0,c.renderApp)(n,r)}t.__esModule=!0,t.h=t.snabbdom=t.patch=t.log=t.startApp=t.Message=t.Component=void 0;var a=n(40),i=r(a),u=n(9),s=r(u),c=n(14),f=r(c),l=n(26),d=r(l),p=n(28),v=r(p),h=n(27),m=n(3),g=r(m),y=void 0;t.Component=d["default"],t.Message=v["default"],t.startApp=o,t.log=g["default"],t.patch=y,t.snabbdom=i["default"],t.h=s["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(e,t){i=e,s=t,a(e,r,c||t)}function n(n){return 0===r.length&&(o=e(t)),r.push(n),i!==u&&n(i,c||s),function(){var e=r.indexOf(n);e>-1&&(r.splice(e,1),0===r.length&&o&&o())}}var r=[],o=void 0,i=u,s=void 0,c=void 0,f=function(){return i===u?void 0:i};return f.subscribe=n,f.named=function(e){return c=e,f},f}function a(e,t,n){for(var r=0;r<t.length;r++)t[r](e,n)}t.__esModule=!0;var i=n(3),u=(r(i),{}),s={create:o};t["default"]=s},function(e,t){"use strict";function n(e,t){return e===!0||e===t}t.__esModule=!0,t.shouldLog=n,t["default"]={render:!1,message:!1}},function(e,t){"use strict";function n(e,t){var n=r(e);return Object.keys(t).forEach(function(e){return n[e]=t[e]}),n}function r(e){var t={};return Object.keys(e).forEach(function(n){return t[n]=e[n]}),t}function o(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t}t.merge=n,t.copy=r,t.Set=o},function(e,t){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(7),o={Router:n(19),api:n(5),async:n(24),State:r.stateShorthand,_util:r};e.exports=o},function(e,t){"use strict";var n={};n.noop=function(){},n.arrayToObject=function(e){return e.reduce(function(e,t){return e[t]=1,e},{})},n.objectToArray=function(e){var t=[];for(var n in e)t.push(e[n]);return t},n.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},n.mergeObjects=function(e,t){for(var n in t)e[n]=t[n];return e},n.mapValues=function(e,t){var n={};for(var r in e)n[r]=t(e[r]);return n},n.objectDiff=function(e,t){var n,r={},o={},a={},i={},e=e||{};for(n in e)n in t?e[n]!=t[n]&&(r[n]=i[n]=!0):a[n]=i[n]=!0;for(n in t)n in e||(o[n]=i[n]=!0);return{all:i,update:r,enter:o,exit:a}},n.makeMessage=function(){for(var e=arguments[0],t=Array.prototype.slice.call(arguments,1),n=0,r=t.length;r>n;n++)e=e.replace("{"+n+"}",t[n]);return e},n.parsePaths=function(e){return e.split("/").filter(function(e){return e.length}).map(function(e){return decodeURIComponent(e)})},n.parseQueryParams=function(e){return e?e.split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{}):{}};var r=/^\/+/,o=/^([^?]*?)\/+$/,a=/\/+\?/;n.normalizePathQuery=function(e){return"/"+e.replace(r,"").replace(o,"$1").replace(a,"?")},n.stateShorthand=function(e,t,r){return n.mergeObjects({uri:e,children:r||{}},t)},e.exports=n},function(e,t){!function(t,n){"object"==typeof e&&e.exports?e.exports["default"]=n():t.anime=n()}(this,function(){var e={duration:1e3,delay:0,loop:!1,autoplay:!0,direction:"normal",easing:"easeOutQuad",elasticity:400,round:!1,begin:void 0,update:void 0,complete:void 0},t=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skewX","skewY"],n=function(){return{array:function(e){return Array.isArray(e)},object:function(e){return Object.prototype.toString.call(e).indexOf("Object")>-1},html:function(e){return e instanceof NodeList||e instanceof HTMLCollection},node:function(e){return e.nodeType},svg:function(e){return e instanceof SVGElement},number:function(e){return!isNaN(parseInt(e))},string:function(e){return"string"==typeof e},func:function(e){return"function"==typeof e},undef:function(e){return"undefined"==typeof e},"null":function(e){return"null"==typeof e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},rgba:function(e){return/^rgba/.test(e)},hsl:function(e){return/^hsl/.test(e)},color:function(e){return n.hex(e)||n.rgb(e)||n.rgba(e)||n.hsl(e)}}}(),r=function(){var e={},t=["Quad","Cubic","Quart","Quint","Expo"],n={Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e,t){if(0===e||1===e)return e;var n=1-Math.min(t,998)/1e3,r=e/1,o=r-1,a=n/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*o)*Math.sin((o-a)*(2*Math.PI)/n))},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}};return t.forEach(function(e,t){n[e]=function(e){return Math.pow(e,t+2)}}),Object.keys(n).forEach(function(t){var r=n[t];e["easeIn"+t]=r,e["easeOut"+t]=function(e,t){return 1-r(1-e,t)},e["easeInOut"+t]=function(e,t){return.5>e?r(2*e,t)/2:1-r(-2*e+2,t)/2}}),e.linear=function(e){return e},e}(),o=function(e){return n.string(e)?e:e+""},a=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},i=function(e){if(n.color(e))return!1;try{var t=document.querySelectorAll(e);return t}catch(r){return!1}},u=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},s=function(e){return e.reduce(function(e,t){return e.concat(n.array(t)?s(t):t)},[])},c=function(e){return n.array(e)?e:(n.string(e)&&(e=i(e)||e),n.html(e)?[].slice.call(e):[e])},f=function(e,t){return e.some(function(e){return e===t})},l=function(e,t){var n={};return e.forEach(function(e){var r=JSON.stringify(t.map(function(t){return e[t]}));n[r]=n[r]||[],n[r].push(e)}),Object.keys(n).map(function(e){return n[e]})},d=function(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})},p=function(e){var t={};for(var n in e)t[n]=e[n];return t},v=function(e,t){for(var r in t)e[r]=n.undef(e[r])?t[r]:e[r];return e},h=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),r=parseInt(n[1],16),o=parseInt(n[2],16),a=parseInt(n[3],16);return"rgb("+r+","+o+","+a+")"},m=function(e){var t,n,r,e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),o=parseInt(e[1])/360,a=parseInt(e[2])/100,i=parseInt(e[3])/100,u=function(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e};if(0==a)t=n=r=i;else{var s=.5>i?i*(1+a):i+a-i*a,c=2*i-s;t=u(c,s,o+1/3),n=u(c,s,o),r=u(c,s,o-1/3)}return"rgb("+255*t+","+255*n+","+255*r+")"},g=function(e){return n.rgb(e)||n.rgba(e)?e:n.hex(e)?h(e):n.hsl(e)?m(e):void 0},y=function(e){return/([\+\-]?[0-9|auto\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg)?/.exec(e)[2]},b=function(e,t,n){return y(t)?t:e.indexOf("translate")>-1?y(n)?t+y(n):t+"px":e.indexOf("rotate")>-1||e.indexOf("skew")>-1?t+"deg":t},_=function(e,r){return(n.node(e)||n.svg(e))&&f(t,r)?"transform":(n.node(e)||n.svg(e))&&"transform"!==r&&x(e,r)?"css":(n.node(e)||n.svg(e))&&(e.getAttribute(r)||n.svg(e)&&e[r])?"attribute":n["null"](e[r])||n.undef(e[r])?void 0:"object"},x=function(e,t){return t in e.style?getComputedStyle(e).getPropertyValue(a(t))||"0":void 0},w=function(e,t){var n=t.indexOf("scale")>-1?1:0,r=e.style.transform;if(!r)return n;for(var o=/(\w+)\((.+?)\)/g,a=[],i=[],u=[];a=o.exec(r);)i.push(a[1]),u.push(a[2]);var s=u.filter(function(e,n){return i[n]===t});return s.length?s[0]:n},k=function(e,t){switch(_(e,t)){case"transform":return w(e,t);case"css":return x(e,t);case"attribute":return e.getAttribute(t)}return e[t]||0},M=function(e,t,r){if(n.color(t))return g(t);if(y(t))return t;var o=y(y(e.to)?e.to:e.from);return!o&&r&&(o=y(r)),o?t+o:t},E=function(e){var t=/-?\d*\.?\d+/g;return{original:e,numbers:o(e).match(t)?o(e).match(t).map(Number):[0],strings:o(e).split(t)}},C=function(e,t,n){return t.reduce(function(t,r,o){var r=r?r:n[o-1];return t+e[o-1]+r})},P=function(e){var e=e?s(n.array(e)?e.map(c):c(e)):[];return e.map(function(e,t){return{target:e,id:t}})},A=function(e,t){var r=[];for(var o in e){var a=n.object(e[o])?p(e[o]):{value:e[o]};a.name=o,r.push(v(a,t))}return r},S=function(e,t,r,o){var a=c(n.func(r)?r(e,o):r);return{from:a.length>1?a[0]:k(e,t),to:a.length>1?a[1]:a[0]}},O=function(e,t,n,r){var o={};if("transform"===n)o.from=e+"("+b(e,t.from,t.to)+")",o.to=e+"("+b(e,t.to)+")";else{var a="css"===n?x(r,e):void 0;o.from=M(t,t.from,a),o.to=M(t,t.to,a)}return{from:E(o.from),to:E(o.to)}},j=function(e,t){var r=[];return e.forEach(function(o,a){var i=o.target;return t.forEach(function(t){var u=_(i,t.name);if(u){var s=S(i,t.name,t.value,a),c=p(t);c.animatables=o,c.type=u,c.from=O(t.name,s,c.type,i).from,c.to=O(t.name,s,c.type,i).to,c.round=n.color(s.from)||c.round?1:0,c.delay=(n.func(c.delay)?c.delay(i,a,e.length):c.delay)/z.speed,c.duration=(n.func(c.duration)?c.duration(i,a,e.length):c.duration)/z.speed,r.push(c)}})}),r},L=function(e,t){var n=j(e,t),r=l(n,["name","from","to","delay","duration"]);return r.map(function(e){var t=p(e[0]);return t.animatables=e.map(function(e){return e.animatables}),t.totalDuration=t.delay+t.duration,t})},N=function(e,t){e.tweens.forEach(function(n){var r=n.to,o=n.from,a=e.duration-(n.delay+n.duration);n.from=r,n.to=o,t&&(n.delay=a)}),e.reversed=!e.reversed},T=function(e){var t=[],n=[];return e.tweens.forEach(function(e){"css"!==e.type&&"transform"!==e.type||(t.push("css"===e.type?a(e.name):"transform"),e.animatables.forEach(function(e){n.push(e.target)}))}),{properties:d(t).join(", "),elements:d(n)}},I=function(e){var t=T(e);t.elements.forEach(function(e){e.style.willChange=t.properties})},B=function(e){var t=T(e);t.elements.forEach(function(e){e.style.removeProperty("will-change")})},R=function(e){var t=n.string(e)?i(e)[0]:e;return{path:t,value:t.getTotalLength()}},D=function(e,t){var n=e.path,r=e.value*t,o=function(o){var a=o||0,i=t>1?e.value+a:r+a;return n.getPointAtLength(i)},a=o(),i=o(-1),u=o(1);switch(e.name){case"translateX":return a.x;case"translateY":return a.y;case"rotate":return 180*Math.atan2(u.y-i.y,u.x-i.x)/Math.PI}},q=function(e,t){var n=Math.min(Math.max(t-e.delay,0),e.duration),o=n/e.duration,a=e.to.numbers.map(function(t,n){var a=e.from.numbers[n],i=r[e.easing](o,e.elasticity),u=e.path?D(e,i):a+i*(t-a);return u=e.round?Math.round(u*e.round)/e.round:u});return C(a,e.to.strings,e.from.strings)},Q=function(e,t){var n=void 0;if(e.time=Math.min(t,e.duration),e.progress=e.time/e.duration*100,e.tweens.forEach(function(e){e.currentValue=q(e,t);var r=e.currentValue;e.animatables.forEach(function(t){var o=t.id;switch(e.type){case"css":t.target.style[e.name]=r;break;case"attribute":t.target.setAttribute(e.name,r);break;case"object":t.target[e.name]=r;break;case"transform":n||(n={}),n[o]||(n[o]=[]),n[o].push(r)}})}),n)for(var r in n)e.animatables[r].target.style.transform=n[r].join(" ");e.settings.update&&e.settings.update(e)},U=function(t,n){var r={};return r.animatables=P(t),r.settings=v(n,e),r.properties=A(n,r.settings),r.tweens=L(r.animatables,r.properties),r.duration=r.tweens.length?Math.max.apply(Math,r.tweens.map(function(e){return e.totalDuration})):n.duration/z.speed,r.time=0,r.progress=0,r.running=!1,r.ended=!1,r},F=[],z=function(e,t){var r=U(e,t),o={};return o.tick=function(){if(r.running){r.ended=!1,o.now=+new Date,o.current=o.last+o.now-o.start,Q(r,o.current);var e=r.settings;e.begin&&o.current>=e.delay&&(e.begin(r),e.begin=void 0),o.current>=r.duration?(e.loop?(o.start=+new Date,"alternate"===e.direction&&N(r,!0),n.number(e.loop)&&e.loop--,o.raf=requestAnimationFrame(o.tick)):(r.ended=!0,e.complete&&e.complete(r),r.pause()),o.last=0):o.raf=requestAnimationFrame(o.tick)}},r.seek=function(e){var t=e/100*r.duration;Q(r,t)},r.pause=function(){r.running=!1,cancelAnimationFrame(o.raf),B(r);var e=F.indexOf(r);e>-1&&F.splice(e,1)},r.play=function(t){t&&(r=v(U(e,v(t,r.settings)),r)),r.pause(),r.running=!0,o.start=+new Date,o.last=r.ended?0:r.time;var n=r.settings;"reverse"===n.direction&&N(r),"alternate"!==n.direction||n.loop||(n.loop=1),I(r),F.push(r),o.raf=requestAnimationFrame(o.tick)},r.restart=function(){r.reversed&&N(r),r.pause(),r.seek(0),r.play()},r.settings.autoplay&&r.play(),r},Y=function(e){for(var t=s(n.array(e)?e.map(c):c(e)),r=F.length-1;r>=0;r--)for(var o=F[r],a=o.tweens.length-1;a>=0;a--)for(var i=o.tweens[a],u=i.animatables.length-1;u>=0;u--)f(t,i.animatables[u].target)&&(i.animatables.splice(u,1),i.animatables.length||o.tweens.splice(a,1),o.tweens.length||o.pause())};return z.speed=1,z.list=F,z.remove=Y,z.easings=r,z.getValue=k,z.path=R,z.random=u,z})},function(e,t,n){function r(e,t){if(e.ns="http://www.w3.org/2000/svg",void 0!==t)for(var n=0;n<t.length;++n)r(t[n].data,t[n].children)}var o=n(10),a=n(17);e.exports=function(e,t,n){var i,u,s,c={};if(3===arguments.length?(c=t,a.array(n)?i=n:a.primitive(n)&&(u=n)):2===arguments.length&&(a.array(t)?i=t:a.primitive(t)?u=t:c=t),a.array(i))for(s=0;s<i.length;++s)a.primitive(i[s])&&(i[s]=o(void 0,void 0,void 0,i[s]));return"s"===e[0]&&"v"===e[1]&&"g"===e[2]&&r(c,i),o(e,c,i,u,void 0)}},function(e,t){e.exports=function(e,t,n,r,o){var a=void 0===t?void 0:t.key;return{sel:e,data:t,children:n,text:r,elm:o,key:a}}},function(e,t,n){"use strict";var r=n(6),o=n(16),a=n(1),i=n(34);t.IncrementBlue=a.Message("IncrementBlue"),t.RouteChanged=a.Message("RouteChanged");var u=r.Router({app:r.State("",{},{index:r.State("",{}),blue:r.State("blue/:id",{},{green:r.State("green",{}),red:r.State("red",{})})})}).configure({urlSync:"hash"}).init();u.transition.on("ended",function(e){return c.send(t.RouteChanged(e))});var s={route:u.current(),blue:{count:0}},c=i["default"](s,function(e){e(t.IncrementBlue,function(e){return o["default"](e,{blue:{count:function(e){return e+1}}})}),e(t.RouteChanged,function(e,t){return o["default"](e,{route:t})})});Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){}function a(e,t){for(;e;){if(e.__comp__)return e.__comp__.messages._receive(t);if(e.__subs__)return e.__subs__.filter(function(e){return e.messageType._id===t._id}).forEach(function(e){return e.observableAdd(t.payload)});e=e.parentElement}}t.__esModule=!0,t["default"]=o,t._sendToElement=a;var i=n(2),u=r(i);o.prototype.listen=function(e){var t=this;return this.subs=this.subs||[],u["default"].create(function(n){var r={messageType:e,observableAdd:n};return t.subs.push(r),function(){t.subs.splice(t.subs.indexOf(r),1)}}).named(e._name)},o.prototype.listenAt=function(e,t){return u["default"].create(function(n){var r=document.querySelector(e);if(r){r.__subs__=r.__subs__||[];var o=r.__subs__,a={messageType:t,observableAdd:n};return o.push(a),function(){o.splice(o.indexOf(a),1),0===o.length&&(r.__subs__=void 0)}}}).named(t._name)},o.prototype.send=function(e){this._receive(e)},o.prototype.sendToParent=function(e){if(!this.el)throw new Error("Messages.send cannot be called synchronously in connect()");a(this.el.parentElement,e)},o.prototype._activate=function(e){this.el=e},o.prototype._receive=function(e){var t=this.subs;if(t)for(var n=0;n<t.length;n++){var r=t[n];r.messageType._id===e._id&&r.observableAdd(e.payload)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return i["default"].create(function(n){return t.subscribe(function(t,r){return n(e(t),r)})})}t.__esModule=!0,t["default"]=o;var a=n(2),i=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){c();var n=document.createElement("div"),r=(0,p["default"])("div",{key:"_init"},[],void 0,n),o=_.patch(r,e);g.forEach(function(e){return e.lifecycle.inserted(e)}),t.appendChild(o.elm),f()}function a(e){return y?void console.warn("A component tried to re-render while a rendering was already ongoing",e.elm):void(-1===m.indexOf(e)&&(m.push(e),b||(b=requestAnimationFrame(s))))}function i(e){u(e,!0)}function u(e,t){var n=e.props,r=e.state,o=e.elm,a=e.render,i=e.vnode,u=e.destroyed;if(!(u||t&&-1!==m.indexOf(e))){var s=void 0===i,c=_.patch,f=void 0;h["default"].render&&(f=performance.now());var l=a(n,r),d=i;if(!d){var y=document.createElement("div");o.appendChild(y),d=(0,p["default"])("div",{key:"_init"},[],void 0,y)}if(c(d,l),(0,v.shouldLog)(h["default"].render,e.key)){var b=Math.round(100*(performance.now()-f))/100;console.log("Render component %c"+e.key,"font-weight: bold",b+" ms","| props: ",n,"| state: ",r)}e.lifecycle.rendered(e,l),s&&g.push(e)}}function s(){y=!0,b=void 0,g=[],c(),m.sort(function(e,t){return e.depth-t.depth}),m.forEach(function(e){return u(e,!1)}),y=!1,m=[],g.forEach(function(e){return e.lifecycle.inserted(e)}),f()}function c(){h["default"].render&&console.log("%cRender - begin","color: orange")}function f(){h["default"].render&&console.log("%cRender - end\n\n\n","color: orange")}t.__esModule=!0,t.renderApp=o,t.renderComponentAsync=a,t.renderComponentSync=i;var l=n(9),d=(r(l),n(10)),p=r(d),v=n(3),h=r(v),m=[],g=[],y=!1,b=void 0,_={patch:void 0};t["default"]=_},function(e,t){"use strict";function n(){for(var e={},t=0;t<arguments.length;t++)e[arguments[t]]=1;return e}function r(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),o=0;o<n.length;o++)if(e[n[o]]!==t[n[o]])return!1;for(var o=0;o<r.length;o++)if(e[r[o]]!==t[r[o]])return!1;return!0}t.__esModule=!0,t.Set=n,t.shallowEqual=r},function(e,t){"use strict";function n(e,t){var r=e?Array.isArray(e)?e.slice():o(e):Array.isArray(t)?[]:{};for(var i in t){var u=t[i];if(u===s)Array.isArray(r)?r.splice(i,1):delete r[i];else if(a(u))r[i]=n(r[i],u);else{var c="function"==typeof u?u(r[i]):u;r[i]=c}}return r}function r(e,t,r){var o=t.split("."),a={},i=a;return o.forEach(function(e,t){t===o.length-1?i[e]=r:i[e]=i={}}),n(e,a)}function o(e){var t={};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function a(e){return e&&"object"===("undefined"==typeof e?"undefined":u(e))&&!Array.isArray(e)}function i(e){return function(){return e}}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.__esModule=!0,t["default"]=n,t.updateKey=r,t.replace=i;var s=t.DELETE={}},function(e,t){e.exports={array:Array.isArray,primitive:function(e){return"string"==typeof e||"number"==typeof e}}},function(e,t,n){"use strict";var r=n(8),o=n(47),a={create:function(e,t){t.elm.style.display="none",r["default"](t.elm,{duration:240,opacity:[0,1],delay:120,begin:function(){return t.elm.style.removeProperty("display")}})},remove:function(e,t){r["default"](e.elm,{duration:100,opacity:[1,0],complete:t})}};Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o["default"](a)},function(e,t,n){"use strict";function r(e){function t(e,t,r){var o=J?u(J.currentState,J.toParams):H,a=u(e,t),i=c.objectDiff(o&&o.params,t);return m(o,a,i)?void(J&&J.exiting&&n()):(J&&n(),K=H,H=a,se=i,J=s(o,a,i,r,re,d),p(o,a),J&&J.run(),J&&(J.cancelled?H=o:v(o,a)),void(J=null))}function n(){d.log("Cancelling existing transition from {0} to {1}",J.from,J.to),J.cancel(),ae=!1}function p(e,t){d.log("Starting transition from {0} to {1}",e,t);var n=e?e.asPublic:null,r=t.asPublic;re.transition.emit("started",r,n)}function v(e,t){ee||ae||(d.log("Updating URL: {0}",Z),h(Z,document.title,Z)),ae=!1,d.log("Transition from {0} to {1} ended",e,t),t.state.lastParams=t.params;var n=e?e.asPublic:null,r=t.asPublic;re.transition.emit("ended",r,n)}function h(e,t,n){I()?(ue=!0,location.hash=ie.hashPrefix+n):history.pushState(e,t,n)}function m(e,t,n){return e?t.state==e.state&&0==Object.keys(n.all).length:!1}function g(e){if(d.log("State not found: {0}",e),ie.notFound)return t(W[ie.notFound],{});throw new Error('State "'+e+'" could not be found')}function y(e){return c.mergeObjects(ie,e),re}function b(e,t){return ie.enableLogs&&r.enableLogs(),ie.interceptAnchors&&i(re),ne="#"+ie.hashPrefix+"/",d.log("Router init"),w(),G(),e=void 0!==e?e:T(),d.log("Initializing to state {0}",e||'""'),A(e,t),x(),te=!0,re}function _(){window.onhashchange=null,window.onpopstate=null}function x(){function e(e){if(ue)return void(ue=!1);var t=e.state||T();d.log("URL changed: {0}",t),ee=!0,j(t)}window[I()?"onhashchange":"onpopstate"]=e}function w(){var e=c.objectToArray(oe);E(e),C(function(e,t){t.init(re,e)}),k(e),W=P(e,{}),M()}function k(e){var t={};e.forEach(function(n){if(t[n.path]){var r=e.map(function(e){return e.fullPath()||"empty"});throw new Error("Two sibling states have the same path ("+r+")")}t[n.path]=1,k(n.children)})}function M(){var e={};for(var t in W){var n=c.normalizePathQuery(W[t].fullPath());if(e[n])throw new Error("Ambiguous state paths: "+n);e[n]=1}}function E(e){e.forEach(function(e){var t=c.objectToArray(e.states);if(t.length){E(t);var n=t.reduce(function(e,t){return""==t.path||e},!1);if(n)return;var r=f({uri:""});e.states._default_=r}})}function C(e){for(var t in oe)e(t,oe[t])}function P(e,t){return e.reduce(function(e,t){return t.children.length?P(t.children,e):(e[t.fullName]=t,t.paths=c.parsePaths(t.fullPath()),e)},t)}function A(e){var t=W[e],n=(t?arguments[1]:null)||{},r=t?arguments[2]:arguments[1];d.log("Changing state to {0}",e||'""'),ee=!1,t?L(t,n,r):j(e,r)}function S(e){if(H){H.params=e;var t=re.link(H.state.fullName,e);history.replaceState(t,document.title,t)}}function O(e,t,n){var r=W[e].lastParams||t;A(e,r,n)}function j(e,n){var r,o,a,i;Z=c.normalizePathQuery(e);var u=Z.split("?"),s=u[0],f=u[1],l=c.parsePaths(s),d=c.parseQueryParams(f);for(var p in W)if(a=W[p],i=a.matches(l)){r=a,o=c.mergeObjects(i,d);break}r?t(r,o,n):g(Z)}function L(e,t,n){var r=W[e];if(!r)return g(e);var o=R(r,t);j(o,n)}function N(e,t){if(oe[e])throw new Error("A state already exist in the router with the name "+e);return t=X(t),oe[e]=t,te&&(t.init(re,e),P({_:t})),re}function T(){var e,t=location.href.indexOf(ne);return e=t>-1?location.href.slice(t+ne.length):I()?"/":(location.pathname+location.search).slice(1),c.normalizePathQuery(e)}function I(){return"hash"==ie.urlSync}function B(e,t){var n=W[e];if(!n)throw new Error("Cannot find state "+e);var r=R(n,t),o=c.normalizePathQuery(r);return I()?"#"+ie.hashPrefix+o:o}function R(e,t){var n={};for(var r in t)n[r]=encodeURIComponent(t[r]);return e.interpolate(n)}function D(){return H&&H.asPublic}function q(){return K&&K.asPublic}function Q(){return se}function U(e,t){return t.push.apply(t,e),e.forEach(function(e){return U(e.children,t)}),t}function F(){return U(c.objectToArray(oe),[])}function z(e){var t="object"===("undefined"==typeof e?"undefined":o(e))?function(t){return e===t.options}:function(t){return e===t.fullName},n=F().filter(t)[0];return n&&n.asPublic}function Y(){return null==K}function V(){return re.transition.on.apply(re.transition,arguments),re}function $(e){return c.mapValues(e,X)}function X(e){return e.children&&(e.children=$(e.children)),f(e)}function G(){if(d.enabled){var e=function(e){return 0==e?"":new Array(2+4*(e-1)).join(" ")+"── "},t=function r(t){var n=c.normalizePathQuery(t.fullPath()),o=0==t.children.length?" (@ path)".replace("path",n):"",a=e(t.parents.length)+t.name+o+"\n";return a+t.children.map(r).join("")},n="\nState tree\n\n";n+=c.objectToArray(oe).map(t).join(""),n+="\n",d.log(n)}}var Z,H,K,J,W,ee,te,ne,re={},oe=$(e),ae=!0,ie={enableLogs:!1,interceptAnchors:!0,notFound:null,urlSync:"history",hashPrefix:""},ue=!1,se={};return re.configure=y,re.init=b,re.transitionTo=A,re.replaceStateParams=S,re.backTo=O,re.addState=N,re.link=B,re.current=D,re.previous=q,re.findState=z,re.isFirstTransition=Y,re.paramsDiff=Q,re.options=ie,re.transition=new a,re.on=V,re.urlPathQuery=T,re.terminate=_,c.mergeObjects(l,re),re}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=n(25),i=n(23),u=n(21),s=n(22),c=n(7),f=n(20),l=n(5),d={log:c.noop,error:c.noop,enabled:!1};r.enableLogs=function(){d.enabled=!0,d.log=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=c.makeMessage.apply(null,t);console.log(r)},d.error=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=c.makeMessage.apply(null,t);console.error(r)}},e.exports=r},function(e,t,n){"use strict";function r(e){function t(e,t,n){y.router=e,y.name=t,y.isDefault="_default_"==t,y.parent=n,y.parents=r(),y.root=y.parent?y.parents[y.parents.length-1]:y,y.children=s.objectToArray(b),y.fullName=f(),y.asPublic=p(),v(function(t,n){n.init(e,t,y)})}function n(){for(var e=y.path,t=y.parent;t;)t.path&&(e=t.path+"/"+e),t=t.parent;return e}function r(){for(var e=[],t=y.parent;t;)e.push(t),t=t.parent;return e}function f(){var e=y.parents.reduceRight(function(e,t){return e+t.name+"."},"")+y.name;return y.isDefault?e.replace("._default_",""):e}function l(){return y.parents.reduce(function(e,t){return s.mergeObjects(e,t.queryParams)},s.copyObject(y.queryParams))}function d(e,t){if(void 0!==t)return y.ownData[e]=t,y;for(var n=y;void 0===n.ownData[e]&&n.parent;)n=n.parent;return n.ownData[e]}function p(){return{name:y.name,fullName:y.fullName,parent:y.parent&&y.parent.asPublic,data:d}}function v(e){for(var t in b)e(t,b[t])}function h(e){var t={},n=y.paths.filter(function(e){return"*"!=e[e.length-1]});if(n.length>e.length)return!1;for(var r=0;r<e.length;r++){var a=e[r],i=y.paths[r];if(!i)return!1;var u="*"==i[i.length-1];if(u){var s=o(i);return t[s]=e.slice(r).join("/"),t}var c=":"==i[0];if(c){var s=o(i);t[s]=a}else if(i!=a)return!1}return t}function m(e){var t=y.fullPath().replace(c,function(t){return e[o(t)]||""}),n=l(),r=Object.keys(e).filter(function(e){return n[e]}),a=r.map(function(t){return t+"="+e[t]}).join("&");return t+(a.length?"?"+a:"")}function g(){return y.fullName}var y={options:e},b=e.children;return y.path=a(e.uri),y.params=i(e.uri),y.queryParams=u(e.uri),y.states=b,y.enter=e.enter||s.noop,y.update=e.update,y.exit=e.exit||s.noop,y.ownData=e.data||{},y.init=t,y.fullPath=n,y.allQueryParams=l,y.matches=h,y.interpolate=m,y.data=d,y.toString=g,y}function o(e){return"*"==e[e.length-1]?e.substr(1).slice(0,-1):e.substr(1)}function a(e){return(e||"").split("?")[0]}function i(e){var t=c.exec(e);return t?s.arrayToObject(t.map(o)):{}}function u(e){var t=(e||"").split("?")[1];return t?s.arrayToObject(t.split("&")):{}}var s=n(7),c=/:[^\\?\/]*/g;e.exports=r},function(e,t){"use strict";function n(e,t,n){return{state:e,params:t,toString:o,asPublic:r(e,t,n)}}function r(e,t,n){function r(t){for(var n=e;n;){if(n.fullName==t)return!0;n=n.parent}return!1}return{uri:n,params:t,name:e?e.name:"",fullName:e?e.fullName:"",data:e?e.data:null,isIn:r}}function o(){var e=this.state&&this.state.fullName;return e+":"+JSON.stringify(this.params)}e.exports=n},function(e,t){"use strict";function n(e,t,n,o,u,s){function c(){r(d,p,m,y,g,o,u,s)}function f(){y.cancelled=!0}var l,d,p,v=e&&e.state,h=t.state,m=t.params,g=v==h,y={from:v,to:h,toParams:m,cancel:f,cancelled:!1,currentState:v,run:c};v&&(l=a(v,h,g,n));var b=!l||g;return p=v?i(v,l,b):[],d=i(h,l,b).reverse(),y}function r(e,t,n,r,a,i,u,s){i=i||{},r.exiting=!0,t.forEach(function(e){a&&e.update||o(e,"exit",n,r,i,u,s)}),r.exiting=!1,e.forEach(function(e){var t=a&&e.update?"update":"enter";o(e,t,n,r,i,u,s)})}function o(e,t,n,r,o,a,i){if(!r.cancelled){if(i.enabled){var u=t[0].toUpperCase()+t.slice(1);i.log(u+" "+e.fullName)}var s=e[t](n,o,a);if(!r.cancelled)return r.currentState="exit"==t?e.parent:e,s}}function a(e,t,n,r){var o,a,i;if(n)[e].concat(e.parents).reverse().forEach(function(e){if(!o)for(i in r.all)if(e.params[i]||e.queryParams[i]){o=e;break}});else for(var u=0;u<e.parents.length;u++)if(a=e.parents[u],t.parents.indexOf(a)>-1){o=a;break}return o}function i(e,t,n){t=t||e.root;var r=e.parents,o=Math.min(r.length,r.indexOf(t)+(n?1:0));return[e].concat(r.slice(0,o))}e.exports=n},function(e,t){"use strict";function n(e){var t=o(e);void 0!==t&&s.transitionTo(t)}function r(e){var t=o(e);void 0!==t&&(e.preventDefault(),s.transitionTo(t))}function o(e){if(!(e.defaultPrevented||e.metaKey||e.ctrlKey)&&a(e)){var t=e.target,n=i(t);if(n){var r=n.getAttribute("data-nav");if("ignore"!=r&&("mousedown"!=e.type||"mousedown"==r)){var o=n.getAttribute("href");if(o){if("#"==o.charAt(0)){if("hash"!=s.options.urlSync)return;o=o.slice(1)}if("_blank"!=n.getAttribute("target")&&u(n))return"click"==e.type&&"mousedown"==r?void e.preventDefault():o}}}}}function a(e){return 1==e.which}function i(e){for(;e;){if("A"==e.nodeName)return e;e=e.parentNode}}function u(e){var t=e.hostname,n=e.port;if(!t){var r=document.createElement("a");r.href=e.href,t=r.hostname,n=r.port}var o=t==location.hostname,a=(n||"80")==(location.port||"80");return o&&a}var s;e.exports=function(e){s=e,document.addEventListener("mousedown",n),document.addEventListener("click",r)}},function(e,t,n){"use strict";function r(e){var t=r.Promise||Promise,n=!0;o.transition.once("started",function(){n=!1});var a=new t(function(t,r){e.then(function(e){n&&t(e)},function(e){n&&r(e)})});return a}var o=n(5);e.exports=r},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,u,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],i(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(o=arguments.length,u=new Array(o-1),s=1;o>s;s++)u[s-1]=arguments[s];n.apply(this,u)}else if(a(n)){for(o=arguments.length,u=new Array(o-1),s=1;o>s;s++)u[s-1]=arguments[s];for(c=n.slice(),o=c.length,s=0;o>s;s++)c[s].apply(this,u)}return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var o;o=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,i,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(u=i;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(0>o)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),
this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.name,n=e.props,r=void 0===n?w:n,o=e.defaultProps,i=e.initState,s=e.connect,f=e.render;o&&Object.keys(o).forEach(function(e){void 0===r[e]&&(r[e]=o[e])});var l={key:t,hook:{create:a,postpatch:u,destroy:c},component:{props:r,initState:i,connect:s,render:f,key:t},attrs:{name:t}};return(0,p["default"])("component",l)}function a(e,t){var n=t.data.component,r=n.props,o=n.initState,a=n.connect,u=!1;n.lifecycle={inserted:i,rendered:s};var c=new g["default"];n.state=o(r),n.elm=t.elm,n.messages=c,n.subscriptions=[];var f=b["default"].create(function(e){e(n.props),n.lifecycle.propsChanged=e}).named("props");f.subscribe(function(e){return e});var l=function(e,t){var r=e._isMessage?c.listen(e):e,o=r.subscribe(function(e,r){var o=n.state;u&&(0,_.shouldLog)(x["default"].message,n.key)&&console.log("%c"+r+" %creceived by %c"+n.key,"color: #C963C1","color: black","font-weight: bold","with payload",e);var a=t(o,e);if(void 0!==a){n.state=a;var i=u&&!n.lifecycle.propsChanging&&!(0,h.shallowEqual)(o,a);i&&(0,v.renderComponentAsync)(n)}});n.subscriptions.push(o)},d={on:l,props:f,msg:c};a(d),u=!0,(0,v.renderComponentSync)(n),n.vnode.elm.__comp__=n,c._activate(n.vnode.elm)}function i(e){e.depth=l(e.vnode.elm)}function u(e,t){var n=e.data,r=t.data,o=n.component,a=o.props,i=r.component.props;o.props=i,r.component=o,(0,h.shallowEqual)(a,i)||(o.lifecycle.propsChanging=!0,o.lifecycle.propsChanged(i),o.lifecycle.propsChanging=!1,(0,v.renderComponentSync)(o))}function s(e,t){e.vnode=t;var n=t.data.hook&&t.data.hook.remove;n&&(e.placeholder.data.hook.remove=n)}function c(e){var t=e.data.component;t.vnode.elm.__comp__=null,f(t.vnode),t.destroyed=!0;for(var n=0;n<t.subscriptions.length;n++)t.subscriptions[n]()}function f(e){var t=e.data;t&&(t.hook&&t.hook.destroy&&t.hook.destroy(e),e.children&&e.children.forEach(f),t.vnode&&f(t.vnode))}function l(e){for(var t=0,n=e.parentElement;n;)t++,n=n.parentElement;return t}t.__esModule=!0,t["default"]=o;var d=n(9),p=r(d),v=n(14),h=n(15),m=n(12),g=r(m),y=n(2),b=r(y),_=n(3),x=r(_),w={}},function(e,t,n){"use strict";function r(e,t){var n=e.data.events,r=t.data.events;if(r){var a=function(){var e=r[name],a=n&&n[name];a!==e&&(t.elm[name.toLowerCase()]=function(t){var n=Array.isArray(e)?e:[e,t],r=n[0],a=n[1];(0,o._sendToElement)(t.target,r(a))})};for(name in r)a();if(n)for(name in n)null==r[name]&&(t.elm[name.toLowerCase()]=null)}}t.__esModule=!0,t.snabbdomModule=void 0;var o=(n(15),n(12));t.snabbdomModule={create:r,update:r}},function(e,t){"use strict";function n(e){function t(t){return{_id:n,_name:e,payload:t}}var n=r++;return t._id=n,t._name=e,t._isMessage=!0,t["with"]=function(e){return[t,e]},t.toString=function(){return n},t}t.__esModule=!0,t["default"]=n;var r=1},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return i["default"].create(function(n){var r=void 0,o=t.subscribe(function(t){r&&r();var o=e(t);r=o.subscribe(n)});return function(){r&&r(),o()}})}t.__esModule=!0,t["default"]=o;var a=n(2),i=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return s["default"].create(function(t){var n=!0;return e.then(function(e){n&&t({value:e})},function(e){n&&t({error:e})}),function(){n=!1}}).named("fromPromise")}function a(e){var t=(0,f["default"])(i,e),n=t[0],r=t[1];return[(0,d["default"])(function(e){return e.value},n),(0,d["default"])(function(e){return e.error},r)]}function i(e){return"value"in e}t.__esModule=!0,t["default"]=o,t.partition=a,t.isValue=i;var u=n(2),s=r(u),c=n(32),f=r(c),l=n(13),d=r(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return i["default"].create(function(e){var n=t.map(function(t){return t.subscribe(e)});return function(){return n.forEach(function(e){return e()})}})}t.__esModule=!0,t["default"]=o;var a=n(2),i=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return[i["default"].create(function(n){return t.subscribe(function(t,r){e(t)&&n(t,r)})}),i["default"].create(function(n){return t.subscribe(function(t,r){e(t)||n(t,r)})})]}t.__esModule=!0,t["default"]=o;var a=n(2),i=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return i["default"].create(function(t){return t(e)}).named("pure")}t.__esModule=!0,t["default"]=o;var a=n(2),i=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=e,r={},o={},a=!1,u=function(e,t){o[e._id]=t};return t(u),r.state=i["default"].create(function(t){t(e),r.send=function(e){var r=e._id,i=e._name,u=e.payload;if(s["default"].message&&console.log("%c"+i,"color: #B31EA6","received by global store with payload ",u),a)throw new Error("Cannot dispatch a Msg in the middle of another msg's dispatch");var c=o[r];if(!c)throw new Error("globalStore.send: Unknown message: ",i);a=!0;var f=void 0;try{f=c(n,u)}finally{a=!1}f!==n&&(n=f,t(f))}}).named("GlobalStateChanged"),r.state.subscribe(function(e){return e}),r}t.__esModule=!0,t["default"]=o;var a=n(2),i=r(a),u=n(3),s=r(u)},function(e,t){function n(e){return document.createElement(e)}function r(e,t){return document.createElementNS(e,t)}function o(e){return document.createTextNode(e)}function a(e,t,n){e.insertBefore(t,n)}function i(e,t){e.removeChild(t)}function u(e,t){e.appendChild(t)}function s(e){return e.parentElement}function c(e){return e.nextSibling}function f(e){return e.tagName}function l(e,t){e.textContent=t}e.exports={createElement:n,createElementNS:r,createTextNode:o,appendChild:u,removeChild:i,insertBefore:a,parentNode:s,nextSibling:c,tagName:f,setTextContent:l}},function(e,t){function n(e,t){var n,r,a,i=t.elm,u=e.data.attrs||{},s=t.data.attrs||{};for(n in s)r=s[n],a=u[n],a!==r&&(!r&&o[n]?i.removeAttribute(n):i.setAttribute(n,r));for(n in u)n in s||i.removeAttribute(n)}for(var r=["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","draggable","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","spellcheck","translate","truespeed","typemustmatch","visible"],o={},a=0,i=r.length;i>a;a++)o[r[a]]=!0;e.exports={create:n,update:n}},function(e,t){function n(e,t){var n,r,o=t.elm,a=e.data["class"]||{},i=t.data["class"]||{};for(r in a)i[r]||o.classList.remove(r);for(r in i)n=i[r],n!==a[r]&&o.classList[n?"add":"remove"](r)}e.exports={create:n,update:n}},function(e,t){function n(e,t){var n,r,o,a=t.elm,i=e.data.props||{},u=t.data.props||{};for(n in i)u[n]||delete a[n];for(n in u)r=u[n],o=i[n],o===r||"value"===n&&a[n]===r||(a[n]=r)}e.exports={create:n,update:n}},function(e,t){function n(e,t,n){u(function(){e[t]=n})}function r(e,t){var r,o,a=t.elm,i=e.data.style||{},u=t.data.style||{},s="delayed"in i;for(o in i)u[o]||(a.style[o]="");for(o in u)if(r=u[o],"delayed"===o)for(o in u.delayed)r=u.delayed[o],s&&r===i.delayed[o]||n(a.style,o,r);else"remove"!==o&&r!==i[o]&&(a.style[o]=r)}function o(e){var t,n,r=e.elm,o=e.data.style;if(o&&(t=o.destroy))for(n in t)r.style[n]=t[n]}function a(e,t){var n=e.data.style;if(!n||!n.remove)return void t();var r,o,a=e.elm,i=0,u=n.remove,s=0,c=[];for(r in u)c.push(r),a.style[r]=u[r];o=getComputedStyle(a);for(var f=o["transition-property"].split(", ");i<f.length;++i)-1!==c.indexOf(f[i])&&s++;a.addEventListener("transitionend",function(e){e.target===a&&--s,0===s&&t()})}var i="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,u=function(e){i(function(){i(e)})};e.exports={create:r,update:r,destroy:o,remove:a}},function(e,t,n){"use strict";function r(e){return void 0===e}function o(e){return void 0!==e}function a(e,t){return e.key===t.key&&e.sel===t.sel}function i(e,t,n){var r,a,i={};for(r=t;n>=r;++r)a=e[r].key,o(a)&&(i[a]=r);return i}function u(e,t){function n(e){return s(t.tagName(e).toLowerCase(),{},[],void 0,e)}function u(e,n){return function(){if(0===--n){var r=t.parentNode(e);t.removeChild(r,e)}}}function p(e,n){var r,a,i=e.data;o(i)&&(o(r=i.hook)&&o(r=r.init)&&r(e),o(r=i.vnode)&&(a=e,e=r));var u,s=e.children,f=e.sel;if(o(f)){var d=f.indexOf("#"),v=f.indexOf(".",d),h=d>0?d:f.length,m=v>0?v:f.length,g=-1!==d||-1!==v?f.slice(0,Math.min(h,m)):f;if(u=e.elm=o(i)&&o(r=i.ns)?t.createElementNS(r,g):t.createElement(g),m>h&&(u.id=f.slice(h+1,m)),v>0&&(u.className=f.slice(m+1).replace(/\./g," ")),c.array(s))for(r=0;r<s.length;++r)t.appendChild(u,p(s[r],n));else c.primitive(e.text)&&t.appendChild(u,t.createTextNode(e.text));for(r=0;r<x.create.length;++r)x.create[r](l,e);r=e.data.hook,o(r)&&(r.create&&r.create(l,e),r.insert&&n.push(e))}else u=e.elm=t.createTextNode(e.text);return o(a)&&(a.elm=e.elm),e.elm}function v(e,n,r,o,a,i){for(;a>=o;++o)t.insertBefore(e,p(r[o],i),n)}function h(e){var t,n,r=e.data;if(o(r)){for(o(t=r.hook)&&o(t=t.destroy)&&t(e),t=0;t<x.destroy.length;++t)x.destroy[t](e);if(o(t=e.children))for(n=0;n<e.children.length;++n)h(e.children[n]);o(t=r.vnode)&&h(t)}}function m(e,n,r,a){for(;a>=r;++r){var i,s,c,f=n[r];if(o(f))if(o(f.sel)){for(h(f),s=x.remove.length+1,c=u(f.elm,s),i=0;i<x.remove.length;++i)x.remove[i](f,c);o(i=f.data)&&o(i=i.hook)&&o(i=i.remove)?i(f,c):c()}else t.removeChild(e,f.elm)}}function g(e,n,o,u){for(var s,c,f,l,d=0,h=0,g=n.length-1,b=n[0],_=n[g],x=o.length-1,w=o[0],k=o[x];g>=d&&x>=h;)r(b)?b=n[++d]:r(_)?_=n[--g]:a(b,w)?(y(b,w,u),b=n[++d],w=o[++h]):a(_,k)?(y(_,k,u),_=n[--g],k=o[--x]):a(b,k)?(y(b,k,u),t.insertBefore(e,b.elm,t.nextSibling(_.elm)),b=n[++d],k=o[--x]):a(_,w)?(y(_,w,u),t.insertBefore(e,_.elm,b.elm),_=n[--g],w=o[++h]):(r(s)&&(s=i(n,d,g)),c=s[w.key],r(c)?(t.insertBefore(e,p(w,u),b.elm),w=o[++h]):(f=n[c],y(f,w,u),n[c]=void 0,t.insertBefore(e,f.elm,b.elm),w=o[++h]));d>g?(l=r(o[x+1])?null:o[x+1].elm,v(e,l,o,h,x,u)):h>x&&m(e,n,d,g)}function y(e,n,i){var u,s;if(o(u=n.data)&&o(s=u.hook)&&o(u=s.prepatch)&&u(e,n),o(u=e.data)&&o(u=u.vnode)&&(e=u),o(u=n.data)&&o(u=u.vnode))return y(e,u,i),void(n.elm=u.elm);var c=n.elm=e.elm,f=e.children,l=n.children;if(e!==n){if(!a(e,n)){var d=t.parentNode(e.elm);return c=p(n,i),t.insertBefore(d,c,e.elm),void m(d,[e],0,0)}if(o(n.data)){for(u=0;u<x.update.length;++u)x.update[u](e,n);u=n.data.hook,o(u)&&o(u=u.update)&&u(e,n)}r(n.text)?o(f)&&o(l)?f!==l&&g(c,f,l,i):o(l)?(o(e.text)&&t.setTextContent(c,""),v(c,null,l,0,l.length-1,i)):o(f)?m(c,f,0,f.length-1):o(e.text)&&t.setTextContent(c,""):e.text!==n.text&&t.setTextContent(c,n.text),o(s)&&o(u=s.postpatch)&&u(e,n)}}var b,_,x={};for(r(t)&&(t=f),b=0;b<d.length;++b)for(x[d[b]]=[],_=0;_<e.length;++_)void 0!==e[_][d[b]]&&x[d[b]].push(e[_][d[b]]);return function(e,o){var i,u,s,c=[];for(i=0;i<x.pre.length;++i)x.pre[i]();for(r(e.sel)&&(e=n(e)),a(e,o)?y(e,o,c):(u=e.elm,s=t.parentNode(u),p(o,c),null!==s&&(t.insertBefore(s,o.elm,t.nextSibling(u)),m(s,[e],0,0))),i=0;i<c.length;++i)c[i].data.hook.insert(c[i]);for(i=0;i<x.post.length;++i)x.post[i]();return o}}var s=n(10),c=n(17),f=n(35),l=s("",{},[],void 0,void 0),d=["create","update","remove","destroy","pre","post"];e.exports={init:u}},function(e,t,n){"use strict";function r(){return{count:f["default"].state().blue.count,route:f["default"].state().route.fullName}}function o(){return r()}function a(e){var t=e.on;t(f["default"].state,r)}function i(e,t){return c.h("div",[c.h("header",[c.h("a",{attrs:{href:s.api.link("app.index"),"data-nav":"mousedown"}},"Index"),c.h("a",{attrs:{href:s.api.link("app.blue",{id:33}),"data-nav":"mousedown"}},"Blue"),String(t.count)]),l["default"]("main",u(t.route))])}function u(e){return"app.index"===e?[d["default"]()]:0===e.indexOf("app.blue")?[p["default"]()]:void 0}var s=n(6),c=n(1),f=n(11),l=n(18),d=n(44),p=n(42);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=c.Component({name:"app",initState:o,connect:a,render:i})},function(e,t,n){"use strict";function r(){return l.Component({name:"blue",initState:o,connect:i,render:s})}function o(){return a({users:[],loading:!1,selectedUser:void 0},v["default"].state())}function a(e,t){return h.merge(e,{count:t.blue.count,route:t.route.fullName,id:t.route.params.id})}function i(e){var t=e.on,n=(e.props,e.msg);t(b,function(e){return v["default"].send(v.IncrementBlue())}),t(v["default"].state,a),t(_,function(e,t){return h.merge(e,{selectedUser:t})});var r=g["default"]({name:"users",callNow:!0,trigger:n.listen(x),ajax:u});t(r.data,function(e,t){return h.merge(e,{users:t})}),t(r.error,function(e,t){return h.merge(e,{users:[]})}),t(r.loading,function(e,t){return h.merge(e,{loading:t})})}function u(){return y.delay(2e3).then(function(e){return fetch("https://randomuser.me/api/?results=10").then(function(e){return e.json()}).then(function(e){return e.results.map(function(e){return e.name.first+" "+e.name.last})})})}function s(e,t){var n=t.id,r=(t.route,f.api.link("app.blue.green",{id:n})),o=f.api.link("app.blue.red",{id:n});return l.h("div",[l.h("h1","Blue screen"),l.h("a",{attrs:{href:r,"data-nav":"mousedown"}},"Green"),l.h("a",{attrs:{href:o,"data-nav":"mousedown"}},"Red"),l.h("div.increment",["Count: "+t.count,l.h("button",{events:{onClick:b}},"Increment")]),d["default"]("section",c(t))])}function c(e){var t=e.route,n=e.selectedUser,r=e.users,o=e.loading;return"app.blue"===t?[l.h("span","I am blue")]:"app.blue.green"===t?[p["default"]()]:"app.blue.red"===t?[l.h("div.red",{key:"red"},[l.h("button",{events:{onClick:x}},"Refresh select list"),l.h("br"),m["default"]({items:r,selectedItem:n,onChange:_,loading:o})])]:void 0}var f=n(6),l=n(1),d=n(18),p=n(43),v=n(11),h=n(4),m=n(52),g=n(46),y=n(51);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var b=l.Message("increment"),_=l.Message("userChange"),x=l.Message("refreshSelect")},function(e,t,n){"use strict";function r(){return c.Component({name:"green",initState:o,connect:a,render:i})}function o(){return{id:l["default"].state().route.params.id,form:{},popupOpened:!1}}function a(e){var t=e.on;t(h,function(e,t){var n=t.target,r=n.name,o=n.value,a=(i={},i[r]=o.substr(0,4),i);f["default"](e,{form:a});var i}),t(l["default"].state,function(e,t){return d.merge(e,{id:t.route.params.id})}),t(m,function(e){return d.merge(e,{popupOpened:!0})}),t(v.close,function(e){return d.merge(e,{popupOpened:!1})})}function i(e,t){var n=t.id,r=t.form,o=t.popupOpened,a=r.firstName,i=r.lastName,f=o?s():"";return c.h("div",["Green (route id = "+n+")",c.h("form",[u("firstName",a),u("lastName",i)]),c.h("button",{events:{onClick:m}},"Open popup"),f])}function u(e,t){return c.h("label",[e,c.h("input",{props:{name:e},forceProps:{value:t},events:{onInput:h}})])}function s(){var e=[c.h("h2","Hello"),c.h("button",{events:{onClick:v.close}},"Close")];return p["default"]({content:e,onClose:v.close})}var c=n(1),f=n(16),l=n(11),d=n(4),p=n(50),v=p;Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var h=c.Message("inputChanged"),m=c.Message("showPopup")},function(e,t,n){"use strict";function r(){return o.h("h1","Index")}var o=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,n){"use strict";var r=n(1);r.log.render=!0,r.log.message=!0},function(e,t,n){"use strict";function r(e){var t=e.name,n=e.trigger,r=e.ajax,i=e.callNow;n?i&&(n=c["default"](n,o())):n=o();var f=u.partition(a["default"](function(e){return u["default"](r(e))},n)),l=f[0],d=f[1],p=c["default"](s["default"](function(e){return!0},n),s["default"](function(e){return!1},l),s["default"](function(e){return!1},d));return{data:l.named(t+"Loaded"),error:d.named(t+"Error"),loading:p.named(t+"Loading")}}function o(){return i["default"](void 0)}var a=n(29),i=n(33),u=n(30),s=n(13),c=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,n){"use strict";function r(e){return function(t,n){var r={key:"animationHook",animations:e,hook:{prepatch:o}};return a.h(t,r,n)}}function o(e,t){var n=t.data.animations,r=i.Set(e.children.map(function(e){return e.key})),o=i.Set(t.children.map(function(e){return e.key}));e.children.forEach(function(e){if(!o[e.key]){e.data.hook=e.data.hook||{};var t=e.data.hook.remove;e.data.hook.remove=function(e,r){t&&t(e,function(){}),n.remove(e,r)}}}),t.children.forEach(function(e){if(!r[e.key]){e.data.hook=e.data.hook||{};var t=e.data.hook.create;e.data.hook.create=function(e,r){t&&t(e,r),n.create(e,r)}}})}var a=n(1),i=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t){"use strict";function n(e,t){for(;t&&t.classList;){if(t.classList.contains(e))return t;t=t.parentElement}}t.findParentByClass=n},function(e,t){"use strict";function n(e,t){var n,r,o,a=t.elm,i=t.data.forceProps||{};for(n in i)r=i[n],o=a[n],o!==r&&(r?a[n]=r:delete a[n])}var e={create:n,update:n};Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=e},function(e,t,n){"use strict";function r(e){return l.Component({name:"popup",props:e,initState:o,connect:a,render:i})}function o(){return{}}function a(e){var n=e.on,r=e.props,o=e.msg;n(o.listenAt("#popups",t.close),function(){o.sendToParent(r().onClose())}),n(o.listenAt("#popups",h),function(e,t){p.findParentByClass("popup",t.target)||o.sendToParent(r().onClose())})}function i(e){var t=e.content;return l.h("div",{content:t,attrs:{"data-popup":!0},hook:{insert:u,postpatch:s,destroy:c}})}function u(e){var t=v.children[0];t||(t=document.createElement("div"),v.appendChild(t));var n=e.data._popup=f(e.data.content);l.patch(t,n)}function s(e,t){var n=t.data._popup,r=f(t.data.content);t.data._popup=r,l.patch(n,r)}function c(e){l.patch(e.data._popup,l.h("div"))}function f(e){return l.h("div.overlay",{hook:m,events:{onClick:h}},[l.h("div.popup",e)])}var l=n(1),d=n(8),p=n(48),v=document.getElementById("popups");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,t.close=l.Message("close");var h=l.Message("overlayClick"),m={insert:function(e){e.elm.style.opacity="0",d["default"](e.elm,{duration:200,opacity:[0,1]});var t=e.elm.children[0];t.style.opacity="0",d["default"](t,{duration:200,delay:200,opacity:[0,1],translateY:["-20px","0px"]})},remove:function(e,t){d["default"](e.elm,{duration:200,opacity:0}),d["default"](e.elm.children[0],{duration:200,opacity:0,translateY:"-20px",complete:t})}}},function(e,t){"use strict";function n(e){return new Promise(function(t){setTimeout(t,e)})}t.delay=n},function(e,t,n){"use strict";function r(e){return c.Component({name:"select",props:e,defaultProps:d,initState:o,connect:a,render:i})}function o(){return{opened:!1}}function a(e){var t=e.on,n=e.props,r=e.msg;t(p,function(e){return l.merge(e,{opened:!0})}),t(v,function(e){return l.merge(e,{opened:!1})}),t(h,function(e,t){return r.sendToParent(n().onChange(t))})}function i(e,t){var n=e.items,r=e.selectedItem,o=e.loading,a=(e.itemRenderer,t.opened),i=!o&&n.indexOf(r)>-1?r:"",s=u(e,a);return c.h("div",[c.h("input",{events:{onClick:p,onBlur:v},props:{value:i},attrs:{readonly:!0,placeholder:"click me"}}),s])}function u(e,t){var n=e.items,r=e.itemRenderer,o=e.loading,a=t&&!o?n.map(r).map(s):void 0,i=t&&o?[c.h("li","Loading...")]:void 0,u=a||i;return u?c.h("ul.dropdown",{hook:m},u):""}function s(e){return c.h("li",{events:{onMouseDown:h["with"](e)}},e)}var c=n(1),f=n(8),l=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var d={items:[],itemRenderer:function(e){return e.toString()}},p=c.Message("open"),v=c.Message("close"),h=c.Message("itemSelected"),m={insert:function(e){e.elm.style.opacity="0",f["default"](e.elm,{duration:140,opacity:[0,1],translateY:["-10px","0px"]})},remove:function(e,t){f["default"](e.elm,{duration:140,opacity:0,translateY:"-10px",complete:t})}}}]);